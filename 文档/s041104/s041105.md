# å››ç»„é¡¹ç›®æƒ…å†µå±•ç¤º

æ³¨ï¼š

1. è¯·ç»“åˆç›®å½•æˆ–å¤§çº²æŸ¥çœ‹æœ¬æ–‡æ¡£ã€‚
2. åªåˆ—å‡ºå‘ç”Ÿå˜åŠ¨çš„å†…å®¹å’Œæ–°å¢çš„å†…å®¹ã€‚

[TOC]


## ä¸€ã€åº•å±‚ï¼šè¡¥å……â€”â€”ä¸¤çº§ç´¢å¼•æœºåˆ¶

â€‹	æœ¬å‘¨å†…è¿›è¡Œäº†ä¸€äº›å¢é‡å¼€å‘ï¼Œä¸‹é¢æ˜¯ç›¸å…³è¯´æ˜

**æ³¨ï¼šåŸºæœ¬åŠŸèƒ½å·²ç»å®ç°ï¼Œä½†æ˜¯æ­¤éƒ¨åˆ†æ­£åœ¨ä¸é€»è¾‘å±‚å¯¹æ¥ï¼Œç³»ç»Ÿå±‚çº§çš„æŒ‰å±æ€§ï¼ˆä¹¦åã€ISBNã€ä½œè€…ï¼‰æŸ¥æ‰¾çš„åŠŸèƒ½è¿˜æ²¡æœ‰å®Œæˆã€‚**

### 	1. è®¾è®¡åŸå› 

â€‹		é¡¹ç›®å‰ä¸­æœŸï¼Œåœ¨åº•å±‚å¼€å‘çš„åŸºäºB+æ ‘çš„ç®€æ˜“æ•°æ®åº“ç³»ç»Ÿåœ¨å•ä¸ªæ•°æ®çš„æŸ¥æ‰¾ä¸Šå…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œå½“B+æ ‘ä¸ºmå‰ã€æ•°æ®æ€»é‡ä¸ºNæ—¶ï¼Œå•æ¬¡æŸ¥æ‰¾æ‰€éœ€çš„æ—¶é—´å¤æ‚åº¦ä»…ä¸º![image-20201012211813060](C:/Users/Skywo/Documents/GitHub/Library-Management-System/åº•å±‚/SecondaryIndex/Img/image-20201012211813060.png)ï¼Œç›¸è¾ƒäºæ™®é€šçš„é¡ºåºç»“æ„æ—¶é—´å¤æ‚åº¦ä¸ºNï¼Œæå¤§çš„èŠ‚çœäº†æŸ¥è¯¢å¼€æ”¯ï¼Œè€Œä¸”æ•°æ®ä¸å¿…é¡ºåºå­˜å‚¨ï¼Œä¹Ÿä¸å¿…æœ‰åºï¼ŒåŒæ—¶æ’å…¥åˆ é™¤éƒ½æä¸ºæ–¹ä¾¿ã€‚

â€‹	ä½†æ˜¯ï¼Œè€ƒè™‘åˆ°å®é™…éœ€æ±‚ï¼Œç”¨æˆ·éœ€è¦æŒ‰ç…§ä¹¦åã€ISBNã€ä½œè€…ç­‰çš„æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾ï¼Œè¾“å…¥å¯¹åº”ä¿¡æ¯ï¼Œåº”å½“å¾—åˆ°ä¿¡æ¯ç›¸åŒ¹é…çš„å…¨éƒ¨ä¹¦ç±ä¿¡æ¯ï¼Œè¿™æ ·å°±éœ€è¦å¯¹æ•°æ®è¿›è¡Œéå†ã€‚ç„¶è€Œï¼Œç”±äºB+æ ‘åœ¨é€»è¾‘ä¸Šåªèƒ½æœ‰ä¸€ç§å…³é”®å­—ï¼Œä¸å¯èƒ½æŒ‰ç…§å­—ç¬¦ä¸²æ„å»ºB+æ ‘ï¼Œå› æ­¤æŒ‰å­—ç¬¦ä¿¡æ¯æŸ¥æ‰¾æ•°æ®å°±é¦–å…ˆè¦éå†idè·å–æ•°æ®ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºN^3. è¿™æ ·å°±ä½¿ç”¨æˆ·çš„ä½“éªŒå¤§æ‰“æŠ˜æ‰£ã€‚åŸºäºä¸Šè¿°èƒŒæ™¯ï¼Œåº•å±‚åˆ˜äº‘å¿åŒå­¦å¼€å‘äº†ç¬¬äºŒçº§ç´¢å¼•ï¼Œå®ƒç‹¬ç«‹äºå…ˆå‰çš„å»ºè®®æ•°æ®åº“çš„ç´¢å¼•+æ•°æ®ä¹‹å¤–ï¼Œå•ç‹¬å­˜å‚¨éƒ¨åˆ†å…³é”®ä¿¡æ¯ï¼Œè½»é‡åŒ–ï¼Œä¸“ç”¨äºæŒ‰ä¹¦åã€ISBNã€ä½œè€…éå†ã€‚

### 	2. å®šä¹‰

#### 		(1). å£°æ˜ï¼š

â€‹		ï¼ˆ**åœ¨å…ˆå‰çš„bookdocking.håŸºç¡€ä¸Šé™„åŠ **ï¼‰

```C++
#include <algorithm>
#define LENGTH_INDEXADDRESS 8

//public:
bool search_delete(int id);
bool file_update();
vector<string> search(string method, string value);

//private:
int firstEmpty;//æŒ‡ç¤ºæ·»åŠ ç©ºç™½åœ°å€ä½ç½®çš„â€œæ•°æ®æŒ‡é’ˆâ€
int p_index;//å­˜å‚¨æ•°æ®çš„åœ°å€ä¿¡æ¯
int secEmpty;//æŒ‡ç¤ºåˆ é™¤ç©ºç™½åœ°å€ä½ç½®çš„â€œæ•°æ®æŒ‡é’ˆâ€
int line_num;//è¡Œæ•°ï¼Œæ­¤å˜é‡å·²å¼ƒç”¨
int cir_time; //è¿è¡Œæ¬¡æ•°ï¼Œæ­¤å˜é‡å·²å¼ƒç”¨


string v_index, zero_str, new_str, blank_str;//å­˜å‚¨åœ°å€ä¿¡æ¯çš„å­—ç¬¦ä¸²ã€é›¶ä¸²ï¼ˆç”±æ•°ä¸ª"0"æ„æˆï¼‰ã€ï¼ˆå·²å¼ƒç”¨å­—ç¬¦ä¸²ï¼‰ã€ç©ºç™½ä¸²ï¼ˆç”±æ•°ä¸ª" "æ„æˆï¼‰
string to_id, to_value,c_to_str;//å­˜å‚¨idçš„å­—ç¬¦ä¸²å½¢å¼çš„ä¸´æ—¶å˜é‡ã€å­˜å‚¨å…¶ä»–ä¿¡æ¯çš„å­—ç¬¦ä¸²å½¢å¼çš„ä¸´æ—¶å˜é‡ã€ï¼ˆå·²å¼ƒç”¨å­—ç¬¦ä¸²ï¼‰
fstream secData, Empty;//ä¸¤ä¸ªæ–°çš„æ–‡ä»¶æŒ‡é’ˆ

```

#### (2). å®ç°

ä»¥ä¸‹ä¸ºå®ç°ï¼š

##### â… . æ„é€ ã€ææ„å‡½æ•°çš„é‡æ–°è®¾è®¡

```C++
bookdocking::bookdocking(){
	Empty.open("valEmpty.txt", ios::in | ios::out | ios::binary);
	secData.open("secIndex.txt", ios::in | ios::out | ios::binary);
	if (!secData) {
		Empty.close();
		secData.close();
		ofstream uEmpty("valEmpty.txt", ios::binary);
		ofstream pData("secIndex.txt", ios::binary);
		uEmpty.close();
		pData.close();
		Empty.open("valEmpty.txt", ios::in | ios::out | ios::binary);
		secData.open("secIndex.txt", ios::in | ios::out | ios::binary);
	}
	secData.write("\n", sizeof(char));
	blank_str = string(LENGTH_ID + LENGTH_VALUE, ' ');
	firstEmpty = 0;//ç½®0
	secEmpty = 0;
	zero_str = "00000000";//é›¶ä¸²åˆå§‹åŒ–
}
```

```C++
bookdocking::~bookdocking() {
	Empty.close();
	secData.close();
}
```

##### â…¡. ç±»ä¸­å‡½æ•°çš„é‡æ–°è®¾è®¡

###### 	â‘ . bookaddå‡½æ•°

```C++
bool bookdocking::bookadd(int id,string ISBN, string name, string author, string type, string borrowtime, string returntime, string histroy, string onsheelf, string isovertime)
{	
	Empty.clear();
	secData.clear();
	to_id = to_string(id);
	value = ISBN + name + author + type + borrowtime + returntime + histroy + onsheelf + isovertime;
	to_value = value;
	if (database.insert(id, value)) {
		if (Empty.peek() != EOF) {//åˆ¤æ–­æ˜¯å¦åˆ°è¾¾æ–‡ä»¶å°¾
			Empty.seekg(0, ios::beg);
			getline(Empty, v_index);//è¯»ä¸€è¡Œæ•°æ®ï¼Œå…¶ä¸º8å­—èŠ‚çš„åœ°å€æ•°æ®
			while (!atoi(v_index.c_str())) {//æ‰¾åˆ°äºŒçº§ç´¢å¼•ä¸­ç¬¬ä¸€ä¸ªé00000000çš„è¡Œï¼Œè¯»å–å…¶æ•°æ®ä½œä¸ºäºŒçº§æ•°æ®æ–‡ä»¶ä¸­å¾…æ’å…¥åœ°å€
				firstEmpty = Empty.tellg();//è¯»å–è¯»æŒ‡é’ˆä½ç½®
				if (Empty.peek() == EOF) goto SIG_3;//æœ‰æ¡ä»¶è·³è½¬
				getline(Empty, v_index);//åªè¦idæ˜¯00000000ï¼Œå°±ç»§ç»­è¯»ä¸‹ä¸€è¡Œ
			}
			Empty.clear();
			secData.seekp(atoi(v_index.c_str()), ios::beg);//ç§»åŠ¨å†™æŒ‡é’ˆåˆ°æ­£ç¡®ä½ç½®
			secData.write(to_id.c_str(), LENGTH_ID);//å†™idæ•°æ®
			secData.write(to_value.c_str(), LENGTH_ISBN + LENGTH_NAME + LENGTH_AUTHOR);//å†™å…¥å…³é”®æ•°æ®
			secData.write("\n", sizeof(char));//æ¢è¡Œ
			secData.clear();
			Empty.seekp(firstEmpty, ios::beg);//å†™æŒ‡é’ˆç§»è‡³æŒ‡ç¤ºä½ç½®
			//å°†è¯¥å¤„æ•°æ®ç½®ä¸º00000000ï¼Œä¹Ÿå°±ä¸å†æŒ‡ç¤ºæ•°æ®æ–‡ä»¶ç©ºç™½ä½ç½®äº†
			Empty.write(zero_str.c_str(), LENGTH_INDEXADDRESS);
			firstEmpty = Empty.tellp();
			firstEmpty += 1;//è·³ä¸€è¡Œ
		}
	else {//å½“äºŒçº§ç´¢å¼•ä¸ºç©º
		SIG_3:
		Empty.clear();
		secData.seekp(0, ios::end);//æ•°æ®ä¸€å®šè¿ç»­å­˜å‚¨ï¼Œæ‰€ä»¥åœ¨æ–‡ä»¶å°¾æ–°å¢
		secData.write(to_id.c_str(), LENGTH_ID);//å†™æ•°æ®
		secData.write(to_value.c_str(), LENGTH_ISBN + LENGTH_NAME + LENGTH_AUTHOR);//å†™æ•°æ®
		secData.write("\n", sizeof(char));
	}
	return true;
	}
	else
		return false;
}
```

###### 	â‘¡. bookdeleteå‡½æ•°

```C++
bool bookdocking::bookdelete(int id) {
	string temp;
	Empty.clear();
	secData.clear();
	if (database.remove(id)) {
		if (search_delete(id)) {//è°ƒç”¨
			return true;
		}
		else return false;
	}
	else
		return false;
}
```

###### 	â‘¢. search_deleteå‡½æ•°

```C++
bool bookdocking::search_delete(int id) {//æŸ¥æ‰¾äºŒçº§æ•°æ®æ–‡ä»¶ä¸­æ•°æ®çš„åœ°å€ï¼Œå¹¶åˆ é™¤ä¹‹ï¼›åŒæ—¶åœ¨äºŒçº§ç´¢å¼•ä¸­ä¸ºåˆ é™¤åç•™ä¸‹çš„ç©ºç™½è¡Œæ ‡æ³¨å…¶åœ°å€
	int red = 0, ret = 0;//redæ¥æ”¶æ•°æ®ï¼Œretå·²å¼ƒç”¨
	string rec, recc;//recæ¥æ”¶æ•°æ®ï¼Œreccæˆªå–recçš„ä¸€éƒ¨åˆ†
	int tmpPr = 0;
	Empty.clear();
	secData.clear();
	if (secData.peek() == EOF)
		return false;
	secData.seekg(0, ios::beg);
	getline(secData, rec);//è·³è¿‡æ–‡ä»¶é¦–è¡Œç©ºè¡Œ
	p_index = secData.tellg();//ç§»åŠ¨è¯»æŒ‡é’ˆ
	getline(secData, rec);//è¯»ä¸€è¡Œå¹¶å­˜å‚¨
	recc = rec.substr(0, LENGTH_ID);//æˆªå–
	red = atoi(recc.c_str());//è½¬æ¢ä¸ºint
	while (red != id) {//å¦‚æœä¸å¾…æŸ¥idä¸ç­‰ï¼Œéœ€è¦å†æœç´¢
		if (secData.eof()) {
			break;
		}
		p_index = secData.tellg();
		getline(secData, rec);
		recc = rec.substr(0, LENGTH_ID);
		red = atoi(recc.c_str());
	}
	if (red != id) {
		secData.clear();
		return false;
	}
	else {
		secData.clear();
		secData.seekp(p_index, ios::beg);
		secData.write(blank_str.c_str(), LENGTH_ID + LENGTH_ISBN + LENGTH_NAME + LENGTH_AUTHOR);//ç”¨ç©ºæ ¼ç¬¦æ›¿æ¢æ•°æ®ï¼Œè¯¥è¡Œæˆä¸ºç©ºè¡Œ
		secData.clear();
		Empty.clear();
		v_index = to_string(p_index);//è½¬æ¢ä¸ºå­—ç¬¦ä¸²
		if (Empty.peek() == EOF) {//ç©ºæ–‡ä»¶æ—¶
			Empty.clear();
			Empty.seekp(0, ios::beg);
			Empty.write(v_index.c_str(), LENGTH_INDEXADDRESS);//å†™å…¥ç©ºè¡Œçš„åœ°å€ä¿¡æ¯
			Empty.clear();
		}
		else {//éç©º
			Empty.seekg(0, ios::end);
			secEmpty = Empty.tellg();
			cout << secEmpty;
			Empty.clear();
			Empty.seekp(secEmpty + 1, ios::beg); //ç§»åŠ¨å†™æŒ‡é’ˆ
			Empty.write("\n", sizeof(char));//å¿…é¡»å…ˆæ¢è¡Œ
			Empty.write(v_index.c_str(), LENGTH_INDEXADDRESS);//å†™å…¥æ–°å¢çš„ç©ºè¡Œæ‰€åœ¨ä½ç½®çš„ä¿¡æ¯
			Empty.clear();
		}
		return true;
	}
}
```

###### 	â‘£. searchå‡½æ•°

æœ¬å‡½æ•°ç”¨äºå¯¹äºŒçº§æ•°æ®è¿›è¡Œéå†ã€‚é€‚ç”¨äºæŒ‰ISBNã€æŒ‰ä¹¦åã€æŒ‰ä½œè€…åç­‰æŸ¥æ‰¾ã€‚å¯è¢«é€»è¾‘å±‚ç›´æ¥è°ƒç”¨ã€‚

```C++
vector<string> bookdocking::search(string mod, string value) {
	vector<string> datas;
	string temp;
	int par = 0;
	int len = 0;
	secData.clear();
	getline(secData, temp);
	if (mod == "ISBN") {
		par = LENGTH_ID + START_ISBN;
		len = LENGTH_ISBN;
	}
	else if (mod == "name") {
		par = LENGTH_ID + START_NAME;
		len = LENGTH_NAME;
	}
	else if (mod == "author") {
		par = LENGTH_ID + START_AUTHOR;
		len = LENGTH_AUTHOR;
	}
	else {
		cout << "Invalid searching mod detected." << endl;
		goto SIG_4;
	}
	while (secData.peek() != EOF) {
		getline(secData, temp);
		temp = temp.substr(par, len);
		datas.push_back(temp);
	}
	reverse(datas.begin(), datas.end());
	return datas;
SIG_4:
	datas.clear();
	return datas;
}
```

###### 	â‘¤. file_updateå‡½æ•°

â€‹	æœ¬å‡½æ•°ç”¨äºåœ¨ç´¯è®¡è¿›è¡Œæ’å…¥ã€åˆ é™¤æ“ä½œè¶³å¤Ÿå¤šæ—¶ï¼Œæ¸…é™¤äºŒçº§ç´¢å¼•ä¸­å†—ä½™çš„"00000000"è¡Œã€‚

```C++
bool bookdocking::file_update() {
	vector<string>cache;
	string temp = "";
	Empty.clear();
	while (Empty.peek() != EOF) {
		getline(Empty, temp);
		temp = temp.substr(0, LENGTH_INDEXADDRESS);
		if (temp == "        ") continue;
		if(atoi(temp.c_str()))cache.push_back(temp);
	}
	fstream f("valEmpty.txt", fstream::out | ios_base::trunc);
	reverse(cache.begin(), cache.end());
	while (!cache.empty()) {
		temp = cache.back();
		cache.pop_back();
		f.write(temp.c_str(), LENGTH_INDEXADDRESS);
		f.write("\n", sizeof(char));
	}
	return true;
}
```

### 3. è°ƒè¯•

â€‹	åœ¨å‘½ä»¤è¡Œç‰ˆæœ¬çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨å¦‚ä¸‹æµ‹è¯•æ ·ä¾‹ï¼š

```txt
2 11111111 2 2 2 2
2 22222222 2 2 2 2
2 33333333 2 2 2 2
2 44444444 2 2 2 2
2 55555555 2 2 2 2
2 66666666 2 2 2 2 
3 22222222
3 44444444
0
```

â€‹	æ‰€å¾—æ–‡ä»¶æ•°æ®å¦‚ä¸‹ï¼š**ï¼ˆæ³¨ï¼šå‡ä¸ºäºŒè¿›åˆ¶æ ¼å¼æ–‡ä»¶ï¼‰**

##### 		â… . äºŒçº§ç´¢å¼•

![notepad_[75] 2020-11-04 17_00_18](C:/Users/Skywo/Documents/GitHub/Library-Management-System/åº•å±‚/SecondaryIndex/Img/notepad_[75] 2020-11-04 17_00_18.png)

â€‹			æ³¨ï¼šç”±äºæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰€ä»¥æœ‰ä¹±ç ã€‚ä¸¤ä¸ªåœ°å€çš„å€¼åˆ†åˆ«æ˜¯28ï¼Œå’Œ82ã€‚

##### 		â…¡. äºŒçº§æ•°æ®æ–‡ä»¶

![notepad_[76] 2020-11-04 17_00_31](C:/Users/Skywo/Documents/GitHub/Library-Management-System/åº•å±‚/SecondaryIndex/Img/notepad_[76] 2020-11-04 17_00_31.png)

### 4. å¼€å‘è¯´æ˜

â€‹	åªéœ€è¦è°ƒç”¨file_updateå‡½æ•°ä»¥æ¸…ç†å†—ä½™æ•°æ®ï¼Œå…¶ä»–å‡½æ•°ä¸éœ€è¦è°ƒç”¨ï¼Œä¸€ã€äºŒçº§æ•°æ®ã€ç´¢å¼•æ–‡ä»¶æ„æˆçš„ç®€æ˜“æ•°æ®åº“å¯¹å¢åˆ æ”¹æŸ¥æ“ä½œæ˜¯åŒæ­¥çš„ï¼Œé€»è¾‘ä¸¥å¯†ï¼Œç”¨æˆ·åªéœ€è¦èšç„¦äºä»–ä»¬çš„éœ€æ±‚æ“ä½œã€‚

â€‹	äºŒçº§æ•°æ®ã€ç´¢å¼•æ–‡ä»¶åœ¨ç¨‹åºè¿è¡Œæ—¶ä¸ä¸€çº§æ•°æ®ã€ç´¢å¼•æ–‡ä»¶åŒæ­¥è¯»å†™ï¼Œåªä¿å­˜æœ€å…³é”®çš„éƒ¨åˆ†å†…å®¹ã€‚äºŒçº§æ–‡ä»¶çš„å­˜å–é€»è¾‘æ˜¯ï¼Œæ–°å¢ä¹¦ç±ä¿¡æ¯æ—¶ï¼Œå…ˆæ£€æŸ¥äºŒçº§ç´¢å¼•çš„æ•°æ®ï¼Œç¡®è®¤åœ¨äºŒçº§æ•°æ®æ–‡ä»¶ä¸­æ˜¯å¦æœ‰ç©ºç™½è¡Œï¼Œè‹¥æœ‰ï¼Œåˆ™åœ¨ç©ºç™½è¡Œå¤„æ’å…¥ï¼Œå¦åˆ™åœ¨æ–‡ä»¶æœ«æ’å…¥ã€‚åˆ é™¤ä¹¦ç±ä¿¡æ¯æ—¶ï¼Œå°†äºŒçº§æ•°æ®æ–‡ä»¶ä¸­å¯¹åº”çš„ä¸€è¡Œç½®ä¸ºç©ºç™½è¡Œï¼Œç„¶ååœ¨äºŒçº§ç´¢å¼•ä¸­è®°å½•è¯¥è¡Œçš„åœ°å€ï¼Œä½œä¸ºå¯ç”¨åœ°å€å¤‡ç”¨ï¼›æŸ¥æ‰¾æ—¶ï¼Œç•¥è¿‡ç°æœ‰çš„ç©ºç™½è¡Œï¼›å½“å¢åˆ æ¬¡æ•°ç´¯ç§¯è¶³å¤Ÿå¤šæ—¶ï¼Œåªéœ€è¦è°ƒç”¨file_updateå‡½æ•°ä»¥åˆ é™¤äºŒçº§ç´¢å¼•ä¸­ç§¯ç´¯çš„å†—ä½™æ•°æ®ï¼Œå®ç°äº†ç©ºé—´çš„å¤ç”¨ã€‚åœ¨å®ç°éå†æ—¶ï¼Œé€Ÿåº¦å¤§å¹…æé«˜ã€‚

## äºŒã€åº•å±‚ï¼šç®€æ˜“æ•°æ®åº“çš„å®ç°

### 1. æ•°æ®ç»“æ„çš„å®ç°åŸç†

***\*B+-tree\****ï¼šåº”æ–‡ä»¶ç³»ç»Ÿæ‰€éœ€è€Œäº§ç”Ÿçš„ä¸€ç§B-treeçš„å˜å½¢æ ‘ï¼Œå…¶æ€§è´¨å¦‚ä¸‹ï¼š

ä¸€æ£µmé˜¶çš„B+æ ‘ï¼Œ

1. æœ‰næ£µå­æ ‘çš„ç»“ç‚¹ä¸­å«æœ‰nä¸ªå…³é”®å­—ï¼›
2. **.æ‰€æœ‰çš„å¶å­ç»“ç‚¹ä¸­åŒ…å«äº†å…¨éƒ¨å…³é”®å­—çš„ä¿¡æ¯**ï¼ŒåŠæŒ‡å‘å«æœ‰è¿™äº›å…³é”®å­—è®°å½•çš„æŒ‡é’ˆï¼Œä¸”å¶å­ç»“ç‚¹æœ¬èº«ä¾å…³é”®å­—çš„å¤§å°**è‡ªå°è€Œå¤§çš„é¡ºåº**é“¾æ¥ã€‚
3. **æ‰€æœ‰çš„éç»ˆç«¯ç»“ç‚¹å¯ä»¥çœ‹æˆæ˜¯ç´¢å¼•éƒ¨åˆ†**ï¼Œç»“ç‚¹ä¸­ä»…å«æœ‰å…¶å­æ ‘æ ¹ç»“ç‚¹ä¸­æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…³é”®å­—ã€‚
4. æ ‘ä¸­æ¯ä¸ªç»“ç‚¹æœ€å¤šå«æœ‰mä¸ªå­©å­ï¼ˆm>=2ï¼‰
5. é™¤æ ¹ç»“ç‚¹å’Œå¶å­ç»“ç‚¹å¤–ï¼Œå…¶å®ƒæ¯ä¸ªç»“ç‚¹è‡³å°‘æœ‰[(m / 2)]ä¸ªå­©å­ï¼›
6. è‹¥æ ¹ç»“ç‚¹ä¸æ˜¯å¶å­ç»“ç‚¹ï¼Œåˆ™è‡³å°‘æœ‰2ä¸ªå­©å­ï¼ˆç‰¹æ®Šæƒ…å†µï¼šæ²¡æœ‰å­©å­çš„æ ¹ç»“ç‚¹ï¼Œå³æ ¹ç»“ç‚¹ä¸ºå¶å­ç»“ç‚¹ï¼Œæ•´æ£µæ ‘åªæœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼‰
7. æ‰€æœ‰å¶å­ç»“ç‚¹éƒ½å‡ºç°åœ¨åŒä¸€å±‚ï¼Œå¶å­ç»“ç‚¹ä¸åŒ…å«ä»»ä½•å…³é”®å­—ä¿¡æ¯(å¯ä»¥çœ‹åšæ˜¯å¤–éƒ¨æ¥ç‚¹æˆ–æŸ¥è¯¢å¤±è´¥çš„æ¥ç‚¹ï¼Œå®é™…ä¸Šè¿™äº›ç»“ç‚¹ä¸å­˜åœ¨ï¼ŒæŒ‡å‘è¿™äº›ç»“ç‚¹çš„æŒ‡é’ˆéƒ½ä¸ºnull)ï¼›
8. æ¯ä¸ªéç»ˆç«¯ç»“ç‚¹ä¸­åŒ…å«æœ‰nä¸ªå…³é”®å­—ä¿¡æ¯ï¼š (nï¼ŒP0ï¼ŒK1ï¼ŒP1ï¼ŒK2ï¼ŒP2ï¼Œ......ï¼ŒKnï¼ŒPn)ã€‚å…¶ä¸­ï¼š
       a)  Ki (i=1...n)ä¸ºå…³é”®å­—ï¼Œä¸”å…³é”®å­—æŒ‰é¡ºåºå‡åºæ’åºK(i-1)< Kiã€‚ 
       b)  Piä¸ºæŒ‡å‘å­æ ‘æ ¹çš„æ¥ç‚¹ï¼Œä¸”æŒ‡é’ˆP(i-1)æŒ‡å‘å­æ ‘ç§æ‰€æœ‰ç»“ç‚¹çš„å…³é”®å­—å‡å°äºKiï¼Œä½†éƒ½å¤§äºK(i-1)ã€‚ 
       c)  å…³é”®å­—çš„ä¸ªæ•°nå¿…é¡»æ»¡è¶³ï¼š [ceil(m / 2)-1]<= n <= m-1ã€‚

### 2. å®ç°æƒ…å†µ

åœ¨å‘½ä»¤è¡Œç‰ˆæœ¬çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨å¦‚ä¸‹æµ‹è¯•æ ·ä¾‹ï¼š

```txt
2 11111111 2 2 2 2
2 22222222 2 2 2 2
2 33333333 2 2 2 2
2 44444444 2 2 2 2
2 55555555 2 2 2 2
2 66666666 2 2 2 2 
3 22222222
3 44444444
2 11451419 19 810 364 893
2 19198101 14 514 889 464
2 10101010 1010 1010 1010 1010
3 33333333
3 55555555
2 36436411 4514 1919 810 889
2 36436436 4 364 364 364
3 66666666
2 43964396 4396 4396 4396 4396
2 19260817 -1 -1 -1 -1
3 10101010
2 17471747 893 810 0721 2333
0
```

**æ‰€å¾—ä¸€çº§æ•°æ®æ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶å­˜å‚¨ï¼‰ï¼š**

```
?  2     2       2   2   00-00-0000-00-00aaaaaaaaaaaaaa                          1114    514     889 464 00-00-0000-00-00aaaaaaaaaaaaaa                          114     364     364 364 00-00-0000-00-00aaaaaaaaaaaaaa                          11 9    810     364 893 00-00-0000-00-00aaaaaaaaaaaaaa                          114514  1919    810 889 00-00-0000-00-00aaaaaaaaaaaaaa                          114396  4396    4396439600-00-0000-00-00aaaaaaaaaaaaaa                          11893   810     0721233300-00-0000-00-00aaaaaaaaaaaaaa                          11 1    -1      -1  -1  00-00-0000-00-00aaaaaaaaaaaaaa                          11 
```

**æ‰€å¾—ä¸€çº§ç´¢å¼•æ–‡ä»¶ï¼š**

```
x   ?   x         è‰? ?ï£µï£µç± ï£µï£µï£µ??ï£µæ›«$?ï£µï£µç‹œ?l?ï£µ@   x         æˆ%å¬ï£µï£µåŸº+ä»¶ï£µï£µèµ +\ï£µï£µï£µç†³?l?ï£µç†³?l?ï£µx              è‰?    æˆ%@   ç‹œ?l?ï£µî‘¦î‘¦î‘¦î‘¦        @   
```

ä½¿ç”¨HexdumpæŸ¥çœ‹äºŒè¿›åˆ¶æ•°æ®ï¼š

![index.txt.hexdump_-_Visual_Studio_Code [70] 20-11-04 22_58_38](.\Img\index.txt.hexdump_-_Visual_Studio_Code [70] 20-11-04 22_58_38.png)

å¯è§ï¼Œæ•°æ®èƒ½å¤ŸæŒ‰é¢„æœŸå®šä¹‰å­˜å‚¨ã€‚è¿è¡Œæˆªå›¾å¦‚ä¸‹ï¼š



**æ³¨ï¼šåªåŒ…å«åº•å±‚å†…å®¹ï¼ˆæ•°æ®å¤„ç†ï¼‰ï¼Œå®é™…çš„å›¾ä¹¦ç³»ç»Ÿç•Œé¢åŠåŠŸèƒ½æ›´ä¸ºå…¨é¢**



![[71] 20-11-04 23_02_22](.\Img\[71] 20-11-04 23_02_22.png)











![1](.\Img\1.png)













![[73] 20-11-04 23_02_34](.\Img\[73] 20-11-04 23_02_34.png)













![2](.\Img\2.png)

å¯è§ç³»ç»Ÿè¿è¡Œç¬¦åˆé€»è¾‘ï¼Œæ•°æ®å¤„ç†å®Œå–„ã€‚è‡³æ­¤ï¼Œåº•å±‚å¼€å‘çš„ç®€æ˜“æ–‡ä»¶ç³»ç»Ÿå·²ç»å¼€å‘å®Œæ¯•ã€‚

## ä¸‰ã€é€»è¾‘å±‚ï¼š

â€‹	é€»è¾‘å±‚ä»˜å¯æ„å’Œèƒ¡æ–°æœˆåŒå­¦å®Œå–„äº†è¿˜ä¹¦åŠŸèƒ½çš„å®ç°ï¼Œå®Œæˆäº†ç®¡ç†å‘˜ç³»ç»Ÿçš„éƒ¨åˆ†bugè°ƒè¯•å·¥ä½œï¼Œç»™æ¯ä¸€æ¬¡è¾“å…¥å¢è®¾äº†è¾“å…¥æ£€æŸ¥ï¼›å®Œæˆäº†ä¸UIå±‚å¯¹æ¥çš„ä»£ç ç‰ˆæœ¬æ›´æ–°ï¼Œä¿®æ”¹äº†å·²çŸ¥bugã€‚

â€‹	é€»è¾‘å±‚å­™ä¹…æ°åŒå­¦å®Œå–„äº†å¤šç§æ–¹å¼å€Ÿä¹¦åŠŸèƒ½çš„å®ç°ï¼Œä¸ºæ•°æ®è¾“å…¥å¢è®¾äº†è¾“å…¥æ£€æŸ¥ï¼›ç›®å‰æ­£è¦ä¸UIå±‚ä¿®æ”¹bugï¼Œä»¥åŠæ·»åŠ ç»­å€Ÿç­‰é™„åŠ åŠŸèƒ½ã€‚





![é¦–é¡µ](.\Img\é¦–é¡µ.png)



![è¿˜ä¹¦ç³»ç»Ÿç•Œé¢](Img/è¿˜ä¹¦ç³»ç»Ÿç•Œé¢.png)





![è¿˜ä¹¦æˆåŠŸæˆªå›¾](Img/è¿˜ä¹¦æˆåŠŸæˆªå›¾.png)







![å›¾ä¹¦æ— éœ€å½’è¿˜æ—¶](Img/å›¾ä¹¦æ— éœ€å½’è¿˜æ—¶.png)





![å›¾ä¹¦ä¸å­˜åœ¨æ—¶](Img/å›¾ä¹¦ä¸å­˜åœ¨æ—¶.png)













![111](Img/111.png)

![222](Img/222.png)

![333](Img/333.png)

![444](Img/444.png)

![555](Img/555.png)

![666](Img/666.png)









## å››ã€UIå±‚

â€‹	æ•´ä¸ªç•Œé¢å·²ç»æ•´åˆå®Œæ¯•ï¼Œç®¡ç†å‘˜ç³»ç»Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œå€Ÿé˜…ç³»ç»Ÿè¿è¡Œæ—¶å‡ºç°é”™è¯¯ï¼Œè¿˜åœ¨å¯»æ‰¾è§£å†³æ–¹æ¡ˆã€‚é™„åŠ åŠŸèƒ½æ ¹æ®é€»è¾‘å±‚å®Œæˆæ—¶é—´å†å†³å®šæ˜¯å¦å¯¹ç•Œé¢å®ç°æ­¤åŠŸèƒ½ã€‚ç•Œé¢ç¾åŒ–å¾…å®šæ—¶é—´ã€‚



![1ç®¡ç†å‘˜ä¿®æ”¹å›¾ä¹¦ä¿¡æ¯1](.\Img\1ç®¡ç†å‘˜ä¿®æ”¹å›¾ä¹¦ä¿¡æ¯1.PNG)

![2ç®¡ç†å‘˜ä¿®æ”¹å›¾ä¹¦ä¿¡æ¯2](.\Img\2ç®¡ç†å‘˜ä¿®æ”¹å›¾ä¹¦ä¿¡æ¯2.PNG)





![3ç®¡ç†å‘˜å¢åŠ ç”¨æˆ·](Img/3ç®¡ç†å‘˜å¢åŠ ç”¨æˆ·.PNG)





![4ç”¨æˆ·æŸ¥æ‰¾å›¾ä¹¦](Img/4ç”¨æˆ·æŸ¥æ‰¾å›¾ä¹¦.PNG)





![5ç”¨æˆ·å€Ÿä¹¦å¡1](Img/5ç”¨æˆ·å€Ÿä¹¦å¡1.PNG)





![6ç”¨æˆ·å€Ÿä¹¦å¡2](Img/6ç”¨æˆ·å€Ÿä¹¦å¡2.PNG)

## äº”ã€è§„åˆ’

â€‹	è®¡åˆ’åœ¨æœ¬å‘¨å®Œæˆçš„ä»»åŠ¡ï¼šæ•´åˆã€UIè°ƒè¯•ã€ç»­å€ŸåŠå€Ÿé˜…è®°å½•æœºåˆ¶çš„ä¼˜åŒ–ã€å€Ÿä¹¦å¡åŠŸèƒ½çš„ä¼˜åŒ–ã€æ¨èæœºåˆ¶ã€æ‰¹é‡å¯¼å…¥ä¹¦ç±ä¿¡æ¯ç­‰